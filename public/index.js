var ClicksCounter,Comment,CommentsList,comments;ClicksCounter=React.createClass({render:function(){return React.DOM.div(null,React.DOM.p({style:{color:"red"}},"Total clicks: "+this.props.count))}}),CommentsList=React.createClass({getInitialState:function(){return{comments:this.props.comments}},getDefaultProps:function(){return{comments:[]}},countClicks:function(){var e,t,s,c,n;for(t=0,n=this.state.comments,s=0,c=n.length;c>s;s++)e=n[s],t+=e.clicks;return t},addClick:function(e){var t,s,c,n;for(console.log(e),s=this.state.comments.slice(),c=0,n=s.length;n>c;c++)t=s[c],t.key===e&&t.clicks++;return this.setState({comments:s})},render:function(){var e;return React.DOM.div(null,React.DOM.div(null,function(){var t,s,c,n;for(c=this.state.comments,n=[],t=0,s=c.length;s>t;t++)e=c[t],n.push(React.createElement(Comment,{comment:e,handleNewClick:this.addClick}));return n}.call(this)),React.DOM.div(null,React.createElement(ClicksCounter,{count:this.countClicks()})))}}),Comment=React.createClass({getInitialState:function(){return{clicks:this.props.comment.clicks}},handleClick:function(){return this.setState({clicks:this.state.clicks+1}),this.props.handleNewClick(this.props.comment.key)},render:function(){return React.DOM.div(null,React.DOM.p(null,this.props.comment.message),React.DOM.p(null,this.props.comment.user),React.DOM.p({onClick:this.handleClick},"Clicks: "+this.state.clicks))}}),comments=[{user:"me",message:"1st message",clicks:1,key:1},{user:"you",message:"2nd message",clicks:1,key:2},{user:"someone",message:"3rd message",clicks:3,key:3}],ReactDOM.render(React.createElement(CommentsList,{comments:comments}),document.getElementById("example"));